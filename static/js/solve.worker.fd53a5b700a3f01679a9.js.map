{"version":3,"sources":["../webpack/bootstrap","../node_modules/react/index.js","../node_modules/react/cjs/react.production.min.js","../node_modules/object-assign/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","types.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","Logic/util.tsx","Interfaces/Interfaces.tsx","Logic/CoreAlgo.tsx","Logic/Logic.tsx","Components/solve.worker.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","for","q","u","v","w","x","y","z","A","B","iterator","C","a","b","arguments","length","encodeURIComponent","D","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","E","F","this","props","context","refs","updater","G","H","isReactComponent","setState","Error","forceUpdate","I","constructor","isPureReactComponent","J","current","K","L","ref","__self","__source","M","e","g","k","f","children","h","Array","defaultProps","$$typeof","type","_owner","O","P","Q","R","pop","result","keyPrefix","func","count","S","push","V","T","U","isArray","next","done","keys","join","=",":","replace","escape","toString","W","aa","X","N","Y","Z","ba","ReactCurrentDispatcher","ReactCurrentBatchConfig","suspense","ReactCurrentOwner","IsSomeRendererActing","assign","Children","map","forEach","toArray","only","Component","Fragment","Profiler","PureComponent","StrictMode","Suspense","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","cloneElement","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","createElement","createFactory","createRef","forwardRef","render","isValidElement","lazy","_ctor","_status","_result","memo","compare","useCallback","useContext","useDebugValue","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","version","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","test1","String","getOwnPropertyNames","test2","fromCharCode","test3","split","letter","err","shouldUseNative","target","source","from","symbols","to","val","undefined","TypeError","toObject","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","_iterableToArrayLimit","_nonIterableRest","TeacherType_nullValue","TeacherType_WildCard","_toConsumableArray","arr2","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_defineProperty","obj","configurable","writable","_objectSpread","ownKeys","concat","filter","sym","getOwnPropertyDescriptor","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","equals","contains","Pos","withoutPos","lst","loopOverClass","j","copyInstruction","res","teacher","pickAction","week","allClasses","teachers","remPeriods","_unused","alert","Screen","util","copyInstructions","objects","situation","_Pos","ot","currentTeacher","tmp","teacherSchedule","currTeacher","action","message","situationInt","ruffleShuffle","pivot","stepMatch","wild","skipTeacherMatching","skipPosMatching","getHisActPeriods","Class","removed","slice","indexOf","Queue","_store","Empty","shift","argumentsQueue","queue","_max","_accepting","enqueue","dequeue","notEmpty","re_fn","pre_fn","pivot_fn","vertix","front","callTo","Action","pivotArgs","Pivots","takeOneOffTheStack","solution","backtrack","activateList","conflicts","isCemented","parent","where","base","Step","MAX_CALLS","enoughSolutions","debt","pivotTo","visited","fill","next_m","console","warn","nextNode","AfterReChainNode","_vertix$Pos","augmentedParent","beforeReChainNode","NewStack","replacementTeachers","Options","requirePivoting","replacementTeacher","cycleClosingParentName","pre","solutions","edges","periodsHere","q_lenBefore","localQueue","edge","_edge","edgeX","edgeY","newNode","preStrictConflicts","callFront","re","oldTeacher","cyclingActionSatisfied","aboutToBeSquashed","madePivots","availables","newSituation","someHowPutHimAt","freeze","iterativeSolutionPoster","justOne","Swaping","rootVertix","sit","log","JSON","stringify","Name","putHimAt","unlock","eraseAll","delegate","Done","sol","currentSolutionNumber","randomFiller","changeCellPost","_loop","aOptions","command","options","actualOptions","Math","floor","random","op","doit","_Pos2","teachersList","teacherHasNoMoreemptyAvailables","tData","emptyAvailables","refreshTable","theTeacherBeingRemoved","teacherData","__webpack_exports__","self","addEventListener","event","parse","data","change","postMessage","payload","time","empties","_Pos3","sort","ind","timeEnd","fastForward","changes"],"mappings":"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","file":"static/js/solve.worker.fd53a5b700a3f01679a9.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/meScheduler/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}","/** @license React v16.14.0\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar l = require(\"object-assign\"),\n    n = \"function\" === typeof Symbol && Symbol.for,\n    p = n ? Symbol.for(\"react.element\") : 60103,\n    q = n ? Symbol.for(\"react.portal\") : 60106,\n    r = n ? Symbol.for(\"react.fragment\") : 60107,\n    t = n ? Symbol.for(\"react.strict_mode\") : 60108,\n    u = n ? Symbol.for(\"react.profiler\") : 60114,\n    v = n ? Symbol.for(\"react.provider\") : 60109,\n    w = n ? Symbol.for(\"react.context\") : 60110,\n    x = n ? Symbol.for(\"react.forward_ref\") : 60112,\n    y = n ? Symbol.for(\"react.suspense\") : 60113,\n    z = n ? Symbol.for(\"react.memo\") : 60115,\n    A = n ? Symbol.for(\"react.lazy\") : 60116,\n    B = \"function\" === typeof Symbol && Symbol.iterator;\n\nfunction C(a) {\n  for (var b = \"https://reactjs.org/docs/error-decoder.html?invariant=\" + a, c = 1; c < arguments.length; c++) {\n    b += \"&args[]=\" + encodeURIComponent(arguments[c]);\n  }\n\n  return \"Minified React error #\" + a + \"; visit \" + b + \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\";\n}\n\nvar D = {\n  isMounted: function isMounted() {\n    return !1;\n  },\n  enqueueForceUpdate: function enqueueForceUpdate() {},\n  enqueueReplaceState: function enqueueReplaceState() {},\n  enqueueSetState: function enqueueSetState() {}\n},\n    E = {};\n\nfunction F(a, b, c) {\n  this.props = a;\n  this.context = b;\n  this.refs = E;\n  this.updater = c || D;\n}\n\nF.prototype.isReactComponent = {};\n\nF.prototype.setState = function (a, b) {\n  if (\"object\" !== typeof a && \"function\" !== typeof a && null != a) throw Error(C(85));\n  this.updater.enqueueSetState(this, a, b, \"setState\");\n};\n\nF.prototype.forceUpdate = function (a) {\n  this.updater.enqueueForceUpdate(this, a, \"forceUpdate\");\n};\n\nfunction G() {}\n\nG.prototype = F.prototype;\n\nfunction H(a, b, c) {\n  this.props = a;\n  this.context = b;\n  this.refs = E;\n  this.updater = c || D;\n}\n\nvar I = H.prototype = new G();\nI.constructor = H;\nl(I, F.prototype);\nI.isPureReactComponent = !0;\nvar J = {\n  current: null\n},\n    K = Object.prototype.hasOwnProperty,\n    L = {\n  key: !0,\n  ref: !0,\n  __self: !0,\n  __source: !0\n};\n\nfunction M(a, b, c) {\n  var e,\n      d = {},\n      g = null,\n      k = null;\n  if (null != b) for (e in void 0 !== b.ref && (k = b.ref), void 0 !== b.key && (g = \"\" + b.key), b) {\n    K.call(b, e) && !L.hasOwnProperty(e) && (d[e] = b[e]);\n  }\n  var f = arguments.length - 2;\n  if (1 === f) d.children = c;else if (1 < f) {\n    for (var h = Array(f), m = 0; m < f; m++) {\n      h[m] = arguments[m + 2];\n    }\n\n    d.children = h;\n  }\n  if (a && a.defaultProps) for (e in f = a.defaultProps, f) {\n    void 0 === d[e] && (d[e] = f[e]);\n  }\n  return {\n    $$typeof: p,\n    type: a,\n    key: g,\n    ref: k,\n    props: d,\n    _owner: J.current\n  };\n}\n\nfunction N(a, b) {\n  return {\n    $$typeof: p,\n    type: a.type,\n    key: b,\n    ref: a.ref,\n    props: a.props,\n    _owner: a._owner\n  };\n}\n\nfunction O(a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === p;\n}\n\nfunction escape(a) {\n  var b = {\n    \"=\": \"=0\",\n    \":\": \"=2\"\n  };\n  return \"$\" + (\"\" + a).replace(/[=:]/g, function (a) {\n    return b[a];\n  });\n}\n\nvar P = /\\/+/g,\n    Q = [];\n\nfunction R(a, b, c, e) {\n  if (Q.length) {\n    var d = Q.pop();\n    d.result = a;\n    d.keyPrefix = b;\n    d.func = c;\n    d.context = e;\n    d.count = 0;\n    return d;\n  }\n\n  return {\n    result: a,\n    keyPrefix: b,\n    func: c,\n    context: e,\n    count: 0\n  };\n}\n\nfunction S(a) {\n  a.result = null;\n  a.keyPrefix = null;\n  a.func = null;\n  a.context = null;\n  a.count = 0;\n  10 > Q.length && Q.push(a);\n}\n\nfunction T(a, b, c, e) {\n  var d = typeof a;\n  if (\"undefined\" === d || \"boolean\" === d) a = null;\n  var g = !1;\n  if (null === a) g = !0;else switch (d) {\n    case \"string\":\n    case \"number\":\n      g = !0;\n      break;\n\n    case \"object\":\n      switch (a.$$typeof) {\n        case p:\n        case q:\n          g = !0;\n      }\n\n  }\n  if (g) return c(e, a, \"\" === b ? \".\" + U(a, 0) : b), 1;\n  g = 0;\n  b = \"\" === b ? \".\" : b + \":\";\n  if (Array.isArray(a)) for (var k = 0; k < a.length; k++) {\n    d = a[k];\n    var f = b + U(d, k);\n    g += T(d, f, c, e);\n  } else if (null === a || \"object\" !== typeof a ? f = null : (f = B && a[B] || a[\"@@iterator\"], f = \"function\" === typeof f ? f : null), \"function\" === typeof f) for (a = f.call(a), k = 0; !(d = a.next()).done;) {\n    d = d.value, f = b + U(d, k++), g += T(d, f, c, e);\n  } else if (\"object\" === d) throw c = \"\" + a, Error(C(31, \"[object Object]\" === c ? \"object with keys {\" + Object.keys(a).join(\", \") + \"}\" : c, \"\"));\n  return g;\n}\n\nfunction V(a, b, c) {\n  return null == a ? 0 : T(a, \"\", b, c);\n}\n\nfunction U(a, b) {\n  return \"object\" === typeof a && null !== a && null != a.key ? escape(a.key) : b.toString(36);\n}\n\nfunction W(a, b) {\n  a.func.call(a.context, b, a.count++);\n}\n\nfunction aa(a, b, c) {\n  var e = a.result,\n      d = a.keyPrefix;\n  a = a.func.call(a.context, b, a.count++);\n  Array.isArray(a) ? X(a, e, c, function (a) {\n    return a;\n  }) : null != a && (O(a) && (a = N(a, d + (!a.key || b && b.key === a.key ? \"\" : (\"\" + a.key).replace(P, \"$&/\") + \"/\") + c)), e.push(a));\n}\n\nfunction X(a, b, c, e, d) {\n  var g = \"\";\n  null != c && (g = (\"\" + c).replace(P, \"$&/\") + \"/\");\n  b = R(b, g, e, d);\n  V(a, aa, b);\n  S(b);\n}\n\nvar Y = {\n  current: null\n};\n\nfunction Z() {\n  var a = Y.current;\n  if (null === a) throw Error(C(321));\n  return a;\n}\n\nvar ba = {\n  ReactCurrentDispatcher: Y,\n  ReactCurrentBatchConfig: {\n    suspense: null\n  },\n  ReactCurrentOwner: J,\n  IsSomeRendererActing: {\n    current: !1\n  },\n  assign: l\n};\nexports.Children = {\n  map: function map(a, b, c) {\n    if (null == a) return a;\n    var e = [];\n    X(a, e, null, b, c);\n    return e;\n  },\n  forEach: function forEach(a, b, c) {\n    if (null == a) return a;\n    b = R(null, null, b, c);\n    V(a, W, b);\n    S(b);\n  },\n  count: function count(a) {\n    return V(a, function () {\n      return null;\n    }, null);\n  },\n  toArray: function toArray(a) {\n    var b = [];\n    X(a, b, null, function (a) {\n      return a;\n    });\n    return b;\n  },\n  only: function only(a) {\n    if (!O(a)) throw Error(C(143));\n    return a;\n  }\n};\nexports.Component = F;\nexports.Fragment = r;\nexports.Profiler = u;\nexports.PureComponent = H;\nexports.StrictMode = t;\nexports.Suspense = y;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ba;\n\nexports.cloneElement = function (a, b, c) {\n  if (null === a || void 0 === a) throw Error(C(267, a));\n  var e = l({}, a.props),\n      d = a.key,\n      g = a.ref,\n      k = a._owner;\n\n  if (null != b) {\n    void 0 !== b.ref && (g = b.ref, k = J.current);\n    void 0 !== b.key && (d = \"\" + b.key);\n    if (a.type && a.type.defaultProps) var f = a.type.defaultProps;\n\n    for (h in b) {\n      K.call(b, h) && !L.hasOwnProperty(h) && (e[h] = void 0 === b[h] && void 0 !== f ? f[h] : b[h]);\n    }\n  }\n\n  var h = arguments.length - 2;\n  if (1 === h) e.children = c;else if (1 < h) {\n    f = Array(h);\n\n    for (var m = 0; m < h; m++) {\n      f[m] = arguments[m + 2];\n    }\n\n    e.children = f;\n  }\n  return {\n    $$typeof: p,\n    type: a.type,\n    key: d,\n    ref: g,\n    props: e,\n    _owner: k\n  };\n};\n\nexports.createContext = function (a, b) {\n  void 0 === b && (b = null);\n  a = {\n    $$typeof: w,\n    _calculateChangedBits: b,\n    _currentValue: a,\n    _currentValue2: a,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  a.Provider = {\n    $$typeof: v,\n    _context: a\n  };\n  return a.Consumer = a;\n};\n\nexports.createElement = M;\n\nexports.createFactory = function (a) {\n  var b = M.bind(null, a);\n  b.type = a;\n  return b;\n};\n\nexports.createRef = function () {\n  return {\n    current: null\n  };\n};\n\nexports.forwardRef = function (a) {\n  return {\n    $$typeof: x,\n    render: a\n  };\n};\n\nexports.isValidElement = O;\n\nexports.lazy = function (a) {\n  return {\n    $$typeof: A,\n    _ctor: a,\n    _status: -1,\n    _result: null\n  };\n};\n\nexports.memo = function (a, b) {\n  return {\n    $$typeof: z,\n    type: a,\n    compare: void 0 === b ? null : b\n  };\n};\n\nexports.useCallback = function (a, b) {\n  return Z().useCallback(a, b);\n};\n\nexports.useContext = function (a, b) {\n  return Z().useContext(a, b);\n};\n\nexports.useDebugValue = function () {};\n\nexports.useEffect = function (a, b) {\n  return Z().useEffect(a, b);\n};\n\nexports.useImperativeHandle = function (a, b, c) {\n  return Z().useImperativeHandle(a, b, c);\n};\n\nexports.useLayoutEffect = function (a, b) {\n  return Z().useLayoutEffect(a, b);\n};\n\nexports.useMemo = function (a, b) {\n  return Z().useMemo(a, b);\n};\n\nexports.useReducer = function (a, b, c) {\n  return Z().useReducer(a, b, c);\n};\n\nexports.useRef = function (a) {\n  return Z().useRef(a);\n};\n\nexports.useState = function (a) {\n  return Z().useState(a);\n};\n\nexports.version = \"16.14.0\";","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n'use strict';\n/* eslint-disable no-unused-vars */\n\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols) {\n      symbols = getOwnPropertySymbols(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","export type PosType = [number, number];\r\n\r\nexport const TeacherType_nullValue: string = \"\";\r\nexport const TeacherType_WildCard: string = \"*\";\r\n\r\nexport type refreshTableType = (() => void)[][][];\r\nexport type tableFooterRefresherType = (() => void)[];\r\nexport type availablesType = PosType[][];\r\nexport type teacherScheduleType = (number | null)[][];\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","/* eslint-disable no-throw-literal */\r\nimport {\r\n\tIActlistObj,\r\n\tIClass,\r\n\tIWEEK_GLOBAL_Object,\r\n} from \"../Interfaces/Interfaces\";\r\nimport { PosType, TeacherType_nullValue, TeacherType_WildCard } from \"../types\";\r\n\r\n// testing git here\r\n\r\nexport const equals = (a: PosType, b: PosType) => {\r\n\treturn a[0] === b[0] && a[1] === b[1];\r\n};\r\nexport const contains = (a: PosType[], Pos: PosType) => {\r\n\tfor (let i = 0; i < a.length; i++) {\r\n\t\tif (equals(a[i], Pos)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n};\r\nexport const withoutPos = (lst: PosType[], Pos: PosType) => {\r\n\treturn lst.filter((p) => !equals(Pos, p));\r\n};\r\nexport const removed = (S: string[], s: string) => {\r\n\treturn S.slice(0, S.indexOf(s)).concat(S.slice(S.indexOf(s) + 1));\r\n};\r\nexport const stringGuard = (arg: unknown): string => {\r\n\tif (typeof arg === \"string\") {\r\n\t\treturn arg;\r\n\t} else {\r\n\t\treturn \"\";\r\n\t\t//do sth\r\n\t}\r\n};\r\nconst getHisActPeriods = (Class: IClass, teacher: string): PosType[] => {\r\n\tlet result: PosType[] = [];\r\n\tloopOverClass((i, j) => {\r\n\t\tif (Class.l[i][j].currentTeacher === teacher) {\r\n\t\t\tresult.push([i, j]);\r\n\t\t}\r\n\t});\r\n\treturn result;\r\n};\r\nexport const listMinusAnother = (a: PosType[], b: PosType[]): PosType[] => {\r\n\tconst result: PosType[] = [];\r\n\tfor (let i = 0; i < a.length; i++) {\r\n\t\tif (!contains(b, a[i])) {\r\n\t\t\tresult.push(a[i]);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n};\r\nexport const notInBase_copy = (\r\n\ta: PosType[],\r\n\tm: number,\r\n\tbase: IActlistObj[]\r\n): PosType[] => {\r\n\tconst result: PosType[] = [];\r\n\ta.forEach((Pos) => {\r\n\t\tlet notInBase = true;\r\n\t\tfor (let j = 0; j < base.length; j++) {\r\n\t\t\tif (equals(base[j].Pos, Pos) && base[j].m === m) {\r\n\t\t\t\tnotInBase = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (notInBase) result.push(Pos);\r\n\t});\r\n\treturn result;\r\n};\r\nexport const loopOverClass = (\r\n\tf: (i: number, j: number) => void,\r\n\tn = 5,\r\n\tm = 7\r\n) => {\r\n\tfor (let i = 0; i < n; i++) {\r\n\t\tfor (let j = 0; j < m; j++) {\r\n\t\t\tf(i, j);\r\n\t\t}\r\n\t}\r\n};\r\nconst copyInstruction = (\r\n\tobj: IActlistObj\r\n): { Pos: PosType; m: number; teacher: string } => {\r\n\tconst res = Object();\r\n\tres.Pos = [];\r\n\tres.Pos.push(obj.Pos[0]);\r\n\tres.Pos.push(obj.Pos[1]);\r\n\tres.m = obj.m;\r\n\tres.teacher = obj.teacher;\r\n\treturn res;\r\n};\r\nconst copyInstructions = (\r\n\tobjects: IActlistObj[]\r\n): { Pos: PosType; m: number; teacher: string }[] => {\r\n\tconst res: any = [];\r\n\tobjects.forEach((object) => {\r\n\t\tres.push(copyInstruction(object));\r\n\t});\r\n\treturn res;\r\n};\r\nconst pickAction = (\r\n\tteacher: string,\r\n\tm: number,\r\n\tweek: IWEEK_GLOBAL_Object\r\n): actionType => {\r\n\ttry {\r\n\t\tif (week.allClasses[m].teachers[teacher].remPeriods > 0) {\r\n\t\t\treturn \"shift\";\r\n\t\t} else {\r\n\t\t\treturn \"cycle\";\r\n\t\t}\r\n\t} catch {\r\n\t\talert(`week.allClasses[${m}].teachers[${teacher}] is undefined`);\r\n\t\t// eslint-disable-next-line no-throw-literal\r\n\t\tthrow \"undefined teacher\";\r\n\t}\r\n};\r\nconst situation = (\r\n\tteacher: string,\r\n\tPos: PosType,\r\n\tm: number,\r\n\tweek: IWEEK_GLOBAL_Object\r\n): { currTeacher: string; action: actionType; r: number } => {\r\n\tconst [x, y] = Pos;\r\n\tconst ot = week.allClasses[m].l[x][y].currentTeacher;\r\n\tconst a = pickAction(teacher, m, week);\r\n\tconst tmp = week.teacherSchedule[teacher][x][y];\r\n\tif (tmp !== null) {\r\n\t\tconst r: number = tmp;\r\n\t\treturn { currTeacher: ot, action: a, r };\r\n\t} else {\r\n\t\tthrow {\r\n\t\t\tteacher,\r\n\t\t\tPos,\r\n\t\t\tm,\r\n\t\t\tweek,\r\n\t\t\tmessage:\r\n\t\t\t\t\"Trying to get the situation for an imposible case of teacher not in the school in the first case his schedule reads null! \",\r\n\t\t};\r\n\t}\r\n};\r\nfunction situationInt(s: {\r\n\tcurrTeacher: string;\r\n\taction: actionType;\r\n\tr: number;\r\n}) {\r\n\tconst { currTeacher: t, action: a, r } = s;\r\n\tif (t === TeacherType_nullValue) {\r\n\t\tif (a === \"shift\") {\r\n\t\t\tif (r === -1) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn 2;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (r === -1) {\r\n\t\t\t\treturn 3;\r\n\t\t\t} else {\r\n\t\t\t\treturn 4;\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tif (a === \"shift\") {\r\n\t\t\tif (r === -1) {\r\n\t\t\t\treturn 5;\r\n\t\t\t} else {\r\n\t\t\t\treturn 6;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (r === -1) {\r\n\t\t\t\treturn 7;\r\n\t\t\t} else {\r\n\t\t\t\treturn 8;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction ruffleShuffle(\r\n\tarr: { Pos: PosType; m: number; teacher: string }[][],\r\n\tpivot: number\r\n): { Pos: PosType; m: number; teacher: string }[][] {\r\n\t// a = [0,1,2,3,4,5,6]\r\n\t// b = [0,1,2,3,4,5,6]\r\n\tif (pivot > arr.length || pivot < 0) {\r\n\t\talert(\"Fuck!! went wrong. ruffleShuffle returned empty list\");\r\n\t}\r\n\tconst res = [];\r\n\tfor (let i = 0; i < pivot; i++) {\r\n\t\tfor (let j = pivot; j < arr.length; j++) {\r\n\t\t\tres.push(arr[i].concat(arr[j]));\r\n\t\t}\r\n\t}\r\n\treturn res;\r\n}\r\nexport type actionType = \"shift\" | \"cycle\";\r\nfunction stepMatch(a: IActlistObj, wild: IActlistObj | undefined): boolean {\r\n\tif (wild === undefined) return false;\r\n\tconst skipTeacherMatching = wild.teacher === TeacherType_WildCard;\r\n\tconst skipPosMatching = equals(wild.Pos, [-1, -1]);\r\n\treturn (\r\n\t\t(a.Pos === wild.Pos || skipPosMatching) &&\r\n\t\t(a.teacher === wild.teacher || skipTeacherMatching) &&\r\n\t\ta.m === wild.m\r\n\t);\r\n}\r\nexport const util = {\r\n\tcopyInstructions,\r\n\tcopyInstruction,\r\n\tpickAction,\r\n\tsituation,\r\n\tsituationInt,\r\n\truffleShuffle,\r\n\tstepMatch,\r\n\tgetHisActPeriods,\r\n\tremoved,\r\n};\r\n","/* eslint-disable no-throw-literal */\r\nimport { Theme } from \"@material-ui/core\";\r\nimport { backtrack, takeOneOffTheStack } from \"../Logic/CoreAlgo\";\r\nimport { actionType, util } from \"../Logic/util\";\r\nimport { PosType, refreshTableType, tableFooterRefresherType } from \"../types\";\r\nimport ClassObj, { NUM_OF_DAYS, NUM_OF_PERIODS_PER_DAY } from \"./ClassObj\";\r\n\r\n/**\r\n * obj : {\r\n * Pos: PosType,\r\n * m: number,\r\n * teacher: string}\r\n */\r\nexport interface IActlistObj {\r\n\tPos: PosType;\r\n\tm: number;\r\n\tteacher: string;\r\n}\r\nexport class Queue<T> {\r\n\t_store: T[] = [];\r\n\tEmpty(): boolean {\r\n\t\treturn this._store.length === 0;\r\n\t}\r\n\tlength(): number {\r\n\t\treturn this._store.length;\r\n\t}\r\n\tnotEmpty(): boolean {\r\n\t\treturn !this.Empty();\r\n\t}\r\n\tenqueue(val: T) {\r\n\t\tthis._store.push(val);\r\n\t}\r\n\tdequeue(): void {\r\n\t\tthis._store.shift();\r\n\t}\r\n\tfront(): T {\r\n\t\treturn this._store[0];\r\n\t}\r\n}\r\n/**\r\n * PivotParent.stackLength is the number of pivots we are waiting to resolve once they do we'll consider this a solution\r\n * in other word the number of pointers keeping the obj alive!\r\n */\r\nexport type callNodeType = {\r\n\tteacher: string;\r\n\tPos: PosType;\r\n\tm: number;\r\n\tcallTo: \"pre\" | \"re\" | \"pivotTo\" | \"nothing\";\r\n\tparent: callNodeType | undefined | null;\r\n\tpivotArgs?: {\r\n\t\tnext_m: number;\r\n\t\t/**\r\n\t\t * @type callNodeType with Parent preferably undefined\r\n\t\t */\r\n\t\tAfterReChainNode?: callNodeType;\r\n\t\tbeforeReChainNode: callNodeType | null;\r\n\t};\r\n\tcycleClosingParentName?: string;\r\n\tAction?: actionType;\r\n\tweek: IWEEK_GLOBAL_Object;\r\n\tPivots: callNodeType[];\r\n};\r\nexport type NodeProcessor = (vertix: callNodeType) => void;\r\n\r\nexport class argumentsQueue {\r\n\tqueue: Queue<callNodeType> = new Queue<callNodeType>();\r\n\t_max: number = 100000;\r\n\t_accepting: boolean = true;\r\n\t// _stats = { preCalls: 0, reCalls: 0, pivotToCalls: 0 };\r\n\tEmpty(): boolean {\r\n\t\treturn this.queue.Empty();\r\n\t}\r\n\tnotEmpty(): boolean {\r\n\t\treturn !this.Empty();\r\n\t}\r\n\tenqueue(val: callNodeType): boolean {\r\n\t\tif (this._accepting && this.queue.length() < this._max) {\r\n\t\t\tthis.queue.enqueue(val);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tthis._accepting = false;\r\n\t\treturn false;\r\n\t}\r\n\tdequeue(): void {\r\n\t\tthis.queue.dequeue();\r\n\t}\r\n\tunlock(): void {\r\n\t\tif (!this._accepting)\r\n\t\t\tthis._accepting = true;\r\n\t\t// if (this._accepting) console.log(`Max wasn't reached!`);\r\n\t\t// else {\r\n\t\t// \tconsole.log(`Max was reached ;( `);\r\n\t\t// \tthis._accepting = true;\r\n\t\t// }\r\n\t\t// console.log(this);\r\n\t\t// const total =\r\n\t\t// \tthis._stats.preCalls + this._stats.reCalls + this._stats.pivotToCalls;\r\n\t\t// const obj = {\r\n\t\t// \t...this._stats,\r\n\t\t// \ttotal,\r\n\t\t// \tstoped_at: this.queue.length(),\r\n\t\t// \tsched: total + this.queue.length(),\r\n\t\t// };\r\n\t\t// console.log(JSON.stringify(obj));\r\n\t\t// this._stats = { preCalls: 0, reCalls: 0, pivotToCalls: 0 };\r\n\t}\r\n\tlength() {\r\n\t\treturn this.queue.length();\r\n\t}\r\n\teraseAll() {\r\n\t\twhile (this.notEmpty()) {\r\n\t\t\tthis.dequeue();\r\n\t\t}\r\n\t}\r\n\tcallFront(\r\n\t\tre_fn: NodeProcessor,\r\n\t\tpre_fn: NodeProcessor,\r\n\t\tpivot_fn: NodeProcessor\r\n\t): void {\r\n\t\tconst vertix = this.queue.front();\r\n\t\tif (vertix.callTo === \"pre\") {\r\n\t\t\t// this._stats.preCalls++;\r\n\t\t\tpre_fn(vertix);\r\n\t\t} else if (vertix.callTo === \"re\") {\r\n\t\t\tif (vertix.Action !== undefined) {\r\n\t\t\t\t// this._stats.reCalls++;\r\n\t\t\t\tre_fn(vertix);\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line no-throw-literal\r\n\t\t\telse throw { ...vertix, message: \"Action not specified for re call\" };\r\n\t\t} else if (vertix.callTo === \"pivotTo\") {\r\n\t\t\tif (vertix.pivotArgs !== undefined) {\r\n\t\t\t\t// this._stats.pivotToCalls++;\r\n\t\t\t\tpivot_fn(vertix);\r\n\t\t\t} else {\r\n\t\t\t\tthrow {\r\n\t\t\t\t\t...vertix,\r\n\t\t\t\t\tmessage: \"callTo pivotTo with missing pivotArgs\",\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t} else if (vertix.callTo === \"nothing\") {\r\n\t\t\t// console.warn(`considering nothing a solution : `, vertix);\r\n\t\t\tif (vertix.Pivots.length !== 0) {\r\n\t\t\t\ttakeOneOffTheStack(vertix);\r\n\t\t\t} else {\r\n\t\t\t\tconst solution = backtrack(vertix);\r\n\t\t\t\tvertix.week.activateList.push(util.copyInstructions(solution));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * { depth?: number,\r\n * actList_Length?:number,\r\n * Pivots?: PivotsCallStack,\r\n * baseLength? : number}\r\n */\r\nexport interface IMisc {\r\n\tdepth?: number;\r\n\tactList_Length?: number;\r\n\tPivots?: callNodeType[];\r\n\tbaseLength?: number;\r\n}\r\nexport interface lCellObj {\r\n\tcurrentTeacher: string;\r\n\tisCemented: boolean;\r\n\tOptions: string[];\r\n}\r\nexport interface TimeRemainingState {\r\n\twhatToSayIndex: number;\r\n\ttotal: number;\r\n\tdays: number;\r\n\thours: number;\r\n\tminutes: number;\r\n\tseconds: number;\r\n}\r\nexport interface I_installButtonProps {\r\n\tcolor?: any;\r\n\tclassName?: any;\r\n}\r\nexport interface IBasicTableProps {\r\n\tm: number;\r\n\thandleChange: any;\r\n\tcellInitializer: any;\r\n\ttableFooterInitializer: any;\r\n\theadRow: string[];\r\n\theadCol: string[];\r\n\tWEEK_GLOBAL_Object: IWEEK_GLOBAL_Object;\r\n}\r\nexport interface ITableFooter {\r\n\tm: number;\r\n\ttableFooterInitializer: any;\r\n\tWEEK_GLOBAL_Object: IWEEK_GLOBAL_Object;\r\n}\r\nexport enum Screen {\r\n\tETA,\r\n\tTABLE,\r\n\tDATAPARSER,\r\n}\r\nexport interface INavProps {\r\n\tUI: Screen;\r\n\tswitchToTable: (event: any) => void;\r\n\tswitchToETA: (event: any) => void;\r\n\tswitchToDataParser: (event: any) => void;\r\n}\r\nexport interface IMyAppBarProps {\r\n\tUI: Screen;\r\n\tswitchToTable: (event: any) => void;\r\n\tswitchToETA: (event: any) => void;\r\n\tswitchToDataParser: (event: any) => void;\r\n\ttoggleTheme: (event: any) => void;\r\n\ttoggleLang: (event: any) => void;\r\n\ttheme: Theme;\r\n\tdarkThemed: boolean;\r\n}\r\nexport interface ICell {\r\n\tPos: PosType;\r\n\tcellInitializer: any;\r\n\tm: number;\r\n\thandleChange: (event: React.ChangeEvent<{ value: unknown }>) => void;\r\n\tWEEK_GLOBAL_Object: IWEEK_GLOBAL_Object;\r\n}\r\nexport interface TeachersDictionary<T> {\r\n\t[index: string]: T\r\n}\r\nexport interface ITeacherSchedule {\r\n\t[index: string]: (number | null)[][];\r\n}\r\nexport interface IAvailables {\r\n\t[index: string]: PosType[];\r\n}\r\nexport interface IClassTeachers {\r\n\t[index: string]: ClassTeacherData;\r\n}\r\nexport interface IWEEK_GLOBAL_Object {\r\n\tallClasses: ClassObj[];\r\n\tteachersGuild: string[];\r\n\trefreshTable?: (() => void)[][][];\r\n\ttableFooterRefresher?: (() => void)[];\r\n\tforceUpdate?: () => void;\r\n\tSwaping: boolean;\r\n\tcurrentSolutionNumber: number;\r\n\tactivateList: { Pos: PosType; m: number; teacher: string }[][];\r\n\tavailables: IAvailables;\r\n\tteacherSchedule: ITeacherSchedule;\r\n}\r\nexport class WeekObj implements IWEEK_GLOBAL_Object {\r\n\tallClasses: ClassObj[] = [];\r\n\tteachersGuild: string[] = [];\r\n\tactivateList: IActlistObj[][] = [];\r\n\tavailables: IAvailables = {};\r\n\trefreshTable: refreshTableType = [];\r\n\ttableFooterRefresher: tableFooterRefresherType = [];\r\n\tteacherSchedule: ITeacherSchedule = {};\r\n\tforceUpdate: () => void = () => { };\r\n\tSwaping = false;\r\n\tcurrentSolutionNumber = 0;\r\n\tconstructor(...args: any[]) {\r\n\t\tif (args && args.length === 1 && args[0].allClasses\r\n\t\t\t&& args[0].teachersGuild\r\n\t\t\t&& args[0].availables) {\r\n\t\t\tconst week = args[0]\r\n\t\t\tthis.allClasses = week.allClasses\r\n\t\t\tthis.teachersGuild = week.teachersGuild\r\n\t\t\tthis.availables = week.availables\r\n\t\t\tif (!week.refreshTable) {\r\n\t\t\t\tthis.refreshTable = new Array(week.allClasses.length)\r\n\t\t\t\t\t.fill(null)\r\n\t\t\t\t\t.map((_) =>\r\n\t\t\t\t\t\tArray(NUM_OF_DAYS)\r\n\t\t\t\t\t\t\t.fill(null)\r\n\t\t\t\t\t\t\t.map(() =>\r\n\t\t\t\t\t\t\t\tArray(NUM_OF_PERIODS_PER_DAY)\r\n\t\t\t\t\t\t\t\t\t.fill(null)\r\n\t\t\t\t\t\t\t\t\t.map(() => () => { })\r\n\t\t\t\t\t\t\t));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.refreshTable = week.refreshTable\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tpublic addClass() {\r\n\t\tconst cls = new ClassObj();\r\n\t\tthis.allClasses.push(cls);\r\n\t\tthis.refreshTable.push(cls.refreshTable());\r\n\t\tthis.tableFooterRefresher.push(() => { });\r\n\t}\r\n\tpublic addTeacher(ind: number, m: number, teacher: string, Periods: number) {\r\n\t\tthis.teachersGuild[ind] = teacher;\r\n\t\tthis.allClasses[m].addTeacher(teacher, Periods);\r\n\t}\r\n\tpublic teacherScheduleInit() {\r\n\t\tthis.teachersGuild.forEach((teacher) => {\r\n\t\t\tthis.teacherSchedule[teacher] = [...Array(NUM_OF_DAYS)].map((e) =>\r\n\t\t\t\tArray(NUM_OF_PERIODS_PER_DAY).fill(null)\r\n\t\t\t);\r\n\t\t\tthis.availables[teacher].forEach(([X, Y]: PosType) => {\r\n\t\t\t\tthis.teacherSchedule[teacher][X][Y] = -1;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\nexport interface IClass {\r\n\tl: lCellObj[][];\r\n\tName: string;\r\n\tteachers: IClassTeachers;\r\n}\r\n\r\nexport interface ClassTeacherData {\r\n\tPeriods: number;\r\n\tremPeriods: number;\r\n\tperiodsHere: PosType[];\r\n\temptyAvailables: PosType[];\r\n}\r\n","/* eslint-disable no-throw-literal */\r\nimport {\r\n\tIWEEK_GLOBAL_Object,\r\n\tIActlistObj,\r\n\tcallNodeType,\r\n\targumentsQueue,\r\n} from \"../Interfaces/Interfaces\";\r\nimport { PosType, TeacherType_nullValue } from \"../types\";\r\nimport { putHimAt } from \"./Logic\";\r\nimport { util, equals } from \"./util\";\r\n\r\nfunction conflicts(\r\n\t...args:\r\n\t\t| [callNodeType]\r\n\t\t| [IActlistObj[], { Pos: PosType; m: number; teacher: string }]\r\n) {\r\n\tif (args.length === 1) {\r\n\t\tconst vertix = args[0];\r\n\t\tif (\r\n\t\t\tvertix.week.allClasses[vertix.m].l[vertix.Pos[0]][vertix.Pos[1]]\r\n\t\t\t\t.isCemented\r\n\t\t) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfor (let i = 0; i < vertix.Pivots.length; i++) {\r\n\t\t\tif (\r\n\t\t\t\tequals(vertix.Pivots[i].Pos, vertix.Pos) &&\r\n\t\t\t\tvertix.Pivots[i].m === vertix.m\r\n\t\t\t) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (\r\n\t\t\t\tvertix.Pivots[i].teacher === vertix.teacher &&\r\n\t\t\t\tequals(vertix.Pivots[i].Pos, vertix.Pos)\r\n\t\t\t) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet tmp: callNodeType | null;\r\n\t\tif (vertix.parent !== undefined) tmp = vertix.parent;\r\n\t\telse\r\n\t\t\tthrow {\r\n\t\t\t\t...vertix,\r\n\t\t\t\tmessage: \"Parent is undefined!\",\r\n\t\t\t\twhere: \"in conflicts\",\r\n\t\t\t};\r\n\t\twhile (tmp !== null) {\r\n\t\t\tif (equals(tmp.Pos, vertix.Pos) && tmp.m === vertix.m) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (\r\n\t\t\t\ttmp.teacher === vertix.teacher &&\r\n\t\t\t\tequals(tmp.Pos, vertix.Pos)\r\n\t\t\t) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif (tmp.parent !== undefined) {\r\n\t\t\t\ttmp = tmp.parent;\r\n\t\t\t} else {\r\n\t\t\t\tthrow {\r\n\t\t\t\t\t...tmp,\r\n\t\t\t\t\tmessage: \"Parent is undefined!\",\r\n\t\t\t\t\twhere: \"in conflicts\",\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t} else if (args.length === 2) {\r\n\t\tconst base = args[0];\r\n\t\tconst Step = args[1];\r\n\t\tfor (let i = 0; i < base.length; i++) {\r\n\t\t\tif (equals(base[i].Pos, Step.Pos) && base[i].m === Step.m) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (\r\n\t\t\t\tbase[i].teacher === Step.teacher &&\r\n\t\t\t\tequals(base[i].Pos, Step.Pos)\r\n\t\t\t) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nfunction preStrictConflicts(vertix: callNodeType) {\r\n\tlet tmp: callNodeType | null;\r\n\tif (\r\n\t\tvertix.week.allClasses[vertix.m].l[vertix.Pos[0]][vertix.Pos[1]]\r\n\t\t\t.isCemented\r\n\t) {\r\n\t\treturn true;\r\n\t}\r\n\tif (vertix.parent !== undefined) tmp = vertix.parent;\r\n\telse throw { ...vertix, message: `Parent is undefined` };\r\n\twhile (tmp !== null) {\r\n\t\tif (equals(tmp.Pos, vertix.Pos) && tmp.m === vertix.m) {\r\n\t\t\treturn true;\r\n\t\t} else if (tmp.teacher === vertix.teacher) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (tmp.parent !== undefined) tmp = tmp.parent;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nconst MAX_CALLS = 5;\r\nlet q: argumentsQueue = new argumentsQueue();\r\n\r\nfunction enoughSolutions(week: IWEEK_GLOBAL_Object, justOne: boolean = false): boolean {\r\n\tif (justOne) week.activateList.length > 1;\r\n\treturn week.activateList.length > MAX_CALLS;\r\n}\r\nexport function takeOneOffTheStack(vertix: callNodeType) {\r\n\tconst debt = {\r\n\t\t...vertix.Pivots[vertix.Pivots.length - 1],\r\n\t\tparent: vertix,\r\n\t\tPivots: [...vertix.Pivots],\r\n\t};\r\n\tdebt.Pivots.pop();\r\n\tq.enqueue(debt);\r\n}\r\n/**\r\n * Schedule re calls in another Class to free up the vertix.Pos in the vertix.m Class\r\n * @param vertix Dummy vertix used for The Position [number,number] we need empty in next_m\r\n * @param AfterReChainNode This will be added to the call stack and will be executed after any vertix generated by this pivot call finds a solution\r\n */\r\nfunction pivotTo(vertix: callNodeType, visited: boolean[] = new Array(11).fill(false)) {\r\n\t// should schedule the re calls to the queue\r\n\tif (vertix.pivotArgs === undefined) {\r\n\t\tthrow { ...vertix, message: \"call to pivotTo with missing pivotArgs\" };\r\n\t} else if (!conflicts(vertix)) {\r\n\t\tconst m = vertix.pivotArgs.next_m;\r\n\t\tif (visited[m] || visited[vertix.m]) {\r\n\t\t\tconsole.warn(`circular calls breaker used`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tvisited[m] = true\r\n\t\tvisited[vertix.m] = true\r\n\t\tconst nextNode = vertix.pivotArgs.AfterReChainNode;\r\n\t\tconst [X, Y] = vertix.Pos;\r\n\t\tconst augmentedParent = vertix.pivotArgs.beforeReChainNode;\r\n\t\tconst NewStack =\r\n\t\t\tvertix.pivotArgs.beforeReChainNode === null\r\n\t\t\t\t? [...vertix.Pivots]\r\n\t\t\t\t: [...vertix.pivotArgs.beforeReChainNode.Pivots];\r\n\t\tif (nextNode !== undefined) NewStack.push(nextNode);\r\n\t\t// const teachers = util.removed(vertix.week.allClasses[m].l[X][Y].Options, vertix.week.allClasses[m].l[X][Y].currentTeacher);\r\n\t\tconst replacementTeachers = vertix.week.allClasses[m].l[X][Y].Options;\r\n\t\tconst requirePivoting = replacementTeachers.filter(\r\n\t\t\t(replacementTeacher: string) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\treplacementTeacher ===\r\n\t\t\t\t\tvertix.week.allClasses[m].l[X][Y].currentTeacher\r\n\t\t\t\t)\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tconst s = util.situation(\r\n\t\t\t\t\treplacementTeacher,\r\n\t\t\t\t\tvertix.Pos,\r\n\t\t\t\t\tm,\r\n\t\t\t\t\tvertix.week\r\n\t\t\t\t);\r\n\t\t\t\tif (\r\n\t\t\t\t\ts.r === -1 ||\r\n\t\t\t\t\t(replacementTeacher ===\r\n\t\t\t\t\t\tvertix.week.allClasses[vertix.m].l[X][Y].currentTeacher &&\r\n\t\t\t\t\t\ts.r === vertix.m)\r\n\t\t\t\t) {\r\n\t\t\t\t\tq.enqueue({\r\n\t\t\t\t\t\tcallTo: \"re\",\r\n\t\t\t\t\t\tparent: augmentedParent,\r\n\t\t\t\t\t\tteacher: replacementTeacher,\r\n\t\t\t\t\t\tPos: vertix.Pos,\r\n\t\t\t\t\t\tm,\r\n\t\t\t\t\t\tweek: vertix.week,\r\n\t\t\t\t\t\tcycleClosingParentName: replacementTeacher,\r\n\t\t\t\t\t\tAction: s.action,\r\n\t\t\t\t\t\tPivots: [...NewStack],\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else if (s.r === vertix.m) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else return true;\r\n\t\t\t}\r\n\t\t);\r\n\t\tif (replacementTeachers.length - requirePivoting.length >= 3)\r\n\t\t\t// doesn't require pivoting .length >=2\r\n\t\t\treturn;\r\n\t\trequirePivoting.forEach((replacementTeacher): void => {\r\n\t\t\tconst s = util.situation(\r\n\t\t\t\treplacementTeacher,\r\n\t\t\t\tvertix.Pos,\r\n\t\t\t\tm,\r\n\t\t\t\tvertix.week\r\n\t\t\t);\r\n\t\t\tpivotTo({\r\n\t\t\t\t...vertix,\r\n\t\t\t\tPivots: [...NewStack], // if augmentedParent is null [] would have got to the next gen\r\n\t\t\t\tcallTo: \"pivotTo\",\r\n\t\t\t\tpivotArgs: {\r\n\t\t\t\t\tnext_m: s.r,\r\n\t\t\t\t\tAfterReChainNode: {\r\n\t\t\t\t\t\tcallTo: \"re\",\r\n\t\t\t\t\t\tparent: undefined,\r\n\t\t\t\t\t\tteacher: replacementTeacher,\r\n\t\t\t\t\t\tPos: vertix.Pos,\r\n\t\t\t\t\t\tm,\r\n\t\t\t\t\t\tweek: vertix.week,\r\n\t\t\t\t\t\tcycleClosingParentName: replacementTeacher,\r\n\t\t\t\t\t\tAction: s.action,\r\n\t\t\t\t\t\tPivots: [...NewStack],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbeforeReChainNode: augmentedParent\r\n\t\t\t\t},\r\n\t\t\t}, visited);\r\n\t\t});\r\n\r\n\t}\r\n}\r\n/**\r\n * back track and return the path to the root\r\n * @param vertix leaf\r\n */\r\nexport function backtrack(vertix: callNodeType): IActlistObj[] {\r\n\tlet tmp: callNodeType | null = vertix;\r\n\tconst solution: IActlistObj[] = [];\r\n\twhile (tmp !== null) {\r\n\t\tsolution.push({ teacher: tmp.teacher, Pos: tmp.Pos, m: tmp.m });\r\n\t\tif (tmp.parent === undefined) {\r\n\t\t\tthrow { ...tmp, message: \"parent undefined\" };\r\n\t\t} else {\r\n\t\t\ttmp = tmp.parent;\r\n\t\t}\r\n\t}\r\n\treturn solution;\r\n}\r\n/**\r\n *\r\n * @param vertix arguments for the pre call\r\n */\r\nfunction pre(vertix: callNodeType) {\r\n\tconst teacher = vertix.teacher;\r\n\tconst m = vertix.m;\r\n\tconst week = vertix.week;\r\n\tconst solutions = week.activateList;\r\n\tif (!conflicts(vertix)) {\r\n\t\tconst edges: PosType[] =\r\n\t\t\tweek.allClasses[m].teachers[teacher].periodsHere ||\r\n\t\t\tutil.getHisActPeriods(week.allClasses[m], teacher);\r\n\t\tconst q_lenBefore = q.length();\r\n\t\tconst localQueue = new argumentsQueue();\r\n\t\tedges.forEach((edge) => {\r\n\t\t\tconst [edgeX, edgeY] = edge;\r\n\t\t\tconst teachers = week.allClasses[m].l[edgeX][edgeY].Options;\r\n\t\t\tteachers.forEach((t) => {\r\n\t\t\t\tif (t === teacher) return;\r\n\t\t\t\tconst newNode: callNodeType = {\r\n\t\t\t\t\tteacher: t,\r\n\t\t\t\t\tPos: edge,\r\n\t\t\t\t\tm,\r\n\t\t\t\t\tweek,\r\n\t\t\t\t\tcallTo: \"nothing\",\r\n\t\t\t\t\tparent: vertix,\r\n\t\t\t\t\tPivots: [...vertix.Pivots],\r\n\t\t\t\t};\r\n\t\t\t\tif (preStrictConflicts(newNode)) return;\r\n\t\t\t\tconst s = util.situation(t, edge, m, week);\r\n\t\t\t\tif (s.action === \"shift\" && s.r === -1) {\r\n\t\t\t\t\t// push to solutions\r\n\t\t\t\t\tif (newNode.Pivots.length !== 0) {\r\n\t\t\t\t\t\ttakeOneOffTheStack(newNode);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsolutions.push(backtrack(newNode));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (s.action === \"cycle\" && s.r === -1) {\r\n\t\t\t\t\tnewNode.callTo = \"pre\";\r\n\t\t\t\t\tq.enqueue(newNode);\r\n\t\t\t\t} else if (s.action === \"cycle\" && s.r !== -1) {\r\n\t\t\t\t\tlocalQueue.enqueue({\r\n\t\t\t\t\t\t...newNode,\r\n\t\t\t\t\t\tcallTo: \"pivotTo\",\r\n\t\t\t\t\t\tpivotArgs: {\r\n\t\t\t\t\t\t\tnext_m: s.r,\r\n\t\t\t\t\t\t\tAfterReChainNode: {\r\n\t\t\t\t\t\t\t\t...newNode,\r\n\t\t\t\t\t\t\t\tcallTo: \"pre\",\r\n\t\t\t\t\t\t\t\tparent: undefined,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbeforeReChainNode: vertix,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (s.action === \"shift\" && s.r !== -1) {\r\n\t\t\t\t\tlocalQueue.enqueue({\r\n\t\t\t\t\t\t...newNode,\r\n\t\t\t\t\t\tcallTo: \"pivotTo\",\r\n\t\t\t\t\t\tpivotArgs: {\r\n\t\t\t\t\t\t\tnext_m: s.r,\r\n\t\t\t\t\t\t\tbeforeReChainNode: vertix,\r\n\t\t\t\t\t\t\tAfterReChainNode: newNode,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tconst q_lenAfter = q.length();\r\n\t\tif (q_lenAfter - q_lenBefore < 3) {\r\n\t\t\twhile (localQueue.notEmpty()) {\r\n\t\t\t\t// q.enqueue(localQueue.front())\r\n\t\t\t\tlocalQueue.callFront(re, pre, pivotTo);\r\n\t\t\t\tlocalQueue.dequeue();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n/**\r\n * re Assumes that this step has r===-1\r\n * @param vertix\r\n * @returns\r\n */\r\nfunction re(vertix: callNodeType) {\r\n\tconst Pos = vertix.Pos;\r\n\tconst m = vertix.m;\r\n\tconst Action = vertix.Action;\r\n\tconst week = vertix.week;\r\n\tconst teacher = vertix.teacher;\r\n\tconst solutions = week.activateList;\r\n\tconst Pivots = [...vertix.Pivots];\r\n\tconst S = util.situation(teacher, Pos, m, week);\r\n\tconst oldTeacher = S.currTeacher;\r\n\tif (vertix.teacher === oldTeacher) return;\r\n\tconst cyclingActionSatisfied = (aboutToBeSquashed: string) => {\r\n\t\tif (Action === \"cycle\" && vertix.cycleClosingParentName === undefined) {\r\n\t\t\tthrow {\r\n\t\t\t\t...vertix,\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t\"re is a cycle and the vertix.cycleClosingParentName is undefined!\",\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\tAction === \"cycle\" &&\r\n\t\t\t\tvertix.cycleClosingParentName === aboutToBeSquashed\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\tconst localQueue = new argumentsQueue();\r\n\tconst q_lenBefore = q.length();\r\n\tconst madePivots: number = Pivots.length;\r\n\tif (!conflicts(vertix)) {\r\n\t\tif (\r\n\t\t\t((Action === \"shift\" && S.currTeacher === TeacherType_nullValue) ||\r\n\t\t\t\tcyclingActionSatisfied(S.currTeacher)) &&\r\n\t\t\t!conflicts(vertix)\r\n\t\t) {\r\n\t\t\tif (vertix.Pivots.length === 0) {\r\n\t\t\t\tsolutions.push(backtrack(vertix));\r\n\t\t\t} else {\r\n\t\t\t\t// q.enqueue({...vertix.Pivots[vertix.Pivots.length-1] ,  parent: vertix})\r\n\t\t\t\t// vertix.Pivots.pop();\r\n\t\t\t\ttakeOneOffTheStack(vertix);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (oldTeacher === TeacherType_nullValue) return;\r\n\t\t\tconst edges: PosType[] = week.availables[oldTeacher].filter(\r\n\t\t\t\t(edge: PosType) => {\r\n\t\t\t\t\tlet tmp: callNodeType | null = vertix;\r\n\t\t\t\t\twhile (tmp !== null) {\r\n\t\t\t\t\t\tif (equals(tmp.Pos, edge)) return false;\r\n\t\t\t\t\t\tif (tmp.parent !== undefined) tmp = tmp.parent;\r\n\t\t\t\t\t\t// eslint-disable-next-line no-throw-literal\r\n\t\t\t\t\t\telse throw { ...tmp, message: \"Parent is undefined!!\" };\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t); // used Position filtered out\r\n\t\t\tedges.forEach((p): void => {\r\n\t\t\t\tconst newSituation = util.situation(oldTeacher, p, m, week);\r\n\t\t\t\tconst newNode: callNodeType = {\r\n\t\t\t\t\tteacher: oldTeacher,\r\n\t\t\t\t\tPos: p,\r\n\t\t\t\t\tm,\r\n\t\t\t\t\tPivots,\r\n\t\t\t\t\tweek,\r\n\t\t\t\t\tparent: vertix,\r\n\t\t\t\t\tcallTo: \"nothing\",\r\n\t\t\t\t\tcycleClosingParentName: vertix.cycleClosingParentName,\r\n\t\t\t\t\tAction,\r\n\t\t\t\t};\r\n\t\t\t\tif (\r\n\t\t\t\t\t((Action === \"shift\" &&\r\n\t\t\t\t\t\tnewSituation.currTeacher === TeacherType_nullValue) ||\r\n\t\t\t\t\t\tcyclingActionSatisfied(newSituation.currTeacher)) &&\r\n\t\t\t\t\tnewSituation.r === -1 &&\r\n\t\t\t\t\t!conflicts(newNode)\r\n\t\t\t\t) {\r\n\t\t\t\t\tif (newNode.Pivots.length === 0) {\r\n\t\t\t\t\t\tsolutions.push(backtrack(newNode));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// q.enqueue({...vertix.Pivots[vertix.Pivots.length-1] ,  parent: vertix})\r\n\t\t\t\t\t\t// vertix.Pivots.pop();\r\n\t\t\t\t\t\ttakeOneOffTheStack(newNode);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (newSituation.r === m) {\r\n\t\t\t\t\t\t// this condition should be equivilant to currentTeacher===oldTeacher\r\n\t\t\t\t\t} else if (newSituation.r === -1) {\r\n\t\t\t\t\t\t// this means that it's possible for the old teacher to be put in this Pos\r\n\t\t\t\t\t\t// but we still have to find a place to put the (current teacher at Pos1) in.\r\n\t\t\t\t\t\tq.enqueue({\r\n\t\t\t\t\t\t\t...newNode,\r\n\t\t\t\t\t\t\tcallTo: \"re\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlocalQueue.enqueue({\r\n\t\t\t\t\t\t\t...newNode,\r\n\t\t\t\t\t\t\tcallTo: \"pivotTo\",\r\n\t\t\t\t\t\t\tpivotArgs: {\r\n\t\t\t\t\t\t\t\tnext_m: newSituation.r,\r\n\t\t\t\t\t\t\t\tbeforeReChainNode: vertix,\r\n\t\t\t\t\t\t\t\tAfterReChainNode: {\r\n\t\t\t\t\t\t\t\t\t//<- re calls check if the called for is it self a solution\r\n\t\t\t\t\t\t\t\t\t...newNode,\r\n\t\t\t\t\t\t\t\t\tcallTo: \"re\",\r\n\t\t\t\t\t\t\t\t\tparent: undefined,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tconst q_lenAfter = q.length();\r\n\tif (q_lenAfter - q_lenBefore < 3 && madePivots < 3) {\r\n\t\twhile (localQueue.notEmpty()) {\r\n\t\t\t// q.enqueue(localQueue.front())\r\n\t\t\tlocalQueue.callFront(re, pre, pivotTo);\r\n\t\t\tlocalQueue.dequeue();\r\n\t\t}\r\n\t}\r\n}\r\nconst delegate = (\r\n\tteacher: string,\r\n\tPos: PosType,\r\n\tm: number,\r\n\tweek: IWEEK_GLOBAL_Object,\r\n\tjustOne: boolean = false\r\n) => {\r\n\tconst situationInt = util.situationInt;\r\n\tconst S = util.situation(teacher, Pos, m, week);\r\n\t/**\r\n\t * {teacher,Pos,m,week,parent:null,callTo:'nothing',Pivots:[]}\r\n\t */\r\n\tconst rootVertix: callNodeType = {\r\n\t\tteacher,\r\n\t\tPos,\r\n\t\tm,\r\n\t\tweek,\r\n\t\tparent: null,\r\n\t\tcallTo: \"nothing\",\r\n\t\tPivots: [],\r\n\t};\r\n\tconst sit = situationInt(S)\r\n\tconsole.log(\"\" + JSON.stringify(Pos) + \" # \" + week.allClasses[m].Name + \" # \" + teacher + \" -> \" + sit)\r\n\tswitch (sit) {\r\n\t\tcase 1: // t==='' & r===-1 & a ==='shift'\r\n\t\t\tweek.Swaping = false;\r\n\t\t\tputHimAt(week, m, teacher, Pos, \"put\");\r\n\t\t\tbreak;\r\n\t\tcase 2: // t==='' & r!==-1 & a ==='shift'\r\n\t\t\t// Pivot\r\n\t\t\tq.enqueue({\r\n\t\t\t\t...rootVertix,\r\n\t\t\t\tpivotArgs: { next_m: S.r, beforeReChainNode: rootVertix },\r\n\t\t\t\tcallTo: \"pivotTo\",\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 3: // t==='' & r===-1 & a ==='cycle'\r\n\t\t\t// pre(teacher,Pos,m,week,[])\r\n\t\t\tq.enqueue({ ...rootVertix, callTo: \"pre\" });\r\n\t\t\tbreak;\r\n\t\tcase 4: // t==='' & r!==-1 & a ==='cycle'\r\n\t\t\tq.enqueue({\r\n\t\t\t\t...rootVertix,\r\n\t\t\t\tcallTo: \"pivotTo\",\r\n\t\t\t\tpivotArgs: {\r\n\t\t\t\t\tnext_m: S.r,\r\n\t\t\t\t\tAfterReChainNode: {\r\n\t\t\t\t\t\t...rootVertix,\r\n\t\t\t\t\t\tparent: undefined,\r\n\t\t\t\t\t\tcallTo: \"pre\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbeforeReChainNode: null,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 5: // t!=='' & r===-1 & a ==='shift'\r\n\t\t\t// re(teacher, Pos, m, week, [], S.action );\r\n\t\t\tq.enqueue({ ...rootVertix, callTo: \"re\", Action: S.action });\r\n\t\t\tbreak;\r\n\t\tcase 6: // t!=='' & r!==-1 & a ==='shift'\r\n\t\t\tq.enqueue({\r\n\t\t\t\t...rootVertix,\r\n\t\t\t\tcallTo: \"pivotTo\",\r\n\t\t\t\tpivotArgs: {\r\n\t\t\t\t\tnext_m: S.r,\r\n\t\t\t\t\tAfterReChainNode: {\r\n\t\t\t\t\t\t...rootVertix,\r\n\t\t\t\t\t\tcallTo: \"re\",\r\n\t\t\t\t\t\tAction: S.action,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbeforeReChainNode: null,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 7: // t!=='' & r===-1 & a ==='cycle'\r\n\t\t\tq.enqueue({\r\n\t\t\t\t...rootVertix,\r\n\t\t\t\tcallTo: \"re\",\r\n\t\t\t\tAction: S.action,\r\n\t\t\t\tcycleClosingParentName: rootVertix.teacher,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 8: // t!=='' & r!==-1 & a ==='cycle'\r\n\t\t\tq.enqueue({\r\n\t\t\t\t...rootVertix,\r\n\t\t\t\tcallTo: \"pivotTo\",\r\n\t\t\t\tpivotArgs: {\r\n\t\t\t\t\tnext_m: S.r,\r\n\t\t\t\t\tAfterReChainNode: {\r\n\t\t\t\t\t\t...rootVertix,\r\n\t\t\t\t\t\tcallTo: \"re\",\r\n\t\t\t\t\t\tparent: undefined,\r\n\t\t\t\t\t\tcycleClosingParentName: rootVertix.teacher,\r\n\t\t\t\t\t\tAction: S.action,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbeforeReChainNode: null,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t}\r\n\twhile (q.notEmpty() && !enoughSolutions(week, justOne)) {\r\n\t\tq.callFront(re, pre, pivotTo);\r\n\t\tq.dequeue();\r\n\t}\r\n\tq.unlock();\r\n\tq.eraseAll();\r\n};\r\n\r\nexport const someHowPutHimAt = (\r\n\tm: number,\r\n\tteacher: string,\r\n\tPos: PosType,\r\n\tweek: IWEEK_GLOBAL_Object,\r\n\tfreeze: boolean = true,\r\n\titerativeSolutionPoster?: (changes: IActlistObj[]) => void,\r\n\tjustOne: boolean = false\r\n): void => {\r\n\t/*\r\n\t* discription*\r\n\tfor each teacher available here in the original list in this cell\r\n\tfor each pos in the shared postihions\r\n\tif the other teacher is in a pos in the shared one's just do a simple switch or promt for choice\r\n\tthis should be enough?!\r\n\t?!\r\n\t*/\r\n\t//short hands\r\n\tweek.Swaping = true;\r\n\t// week.HandyAny.beforeAction = [];\r\n\t// for (let i = 0; i < week.allClasses.length; i++) {\r\n\t// \tlet acc = 0;\r\n\t// \t// Object.keys(week.allClasses[i].teachers).forEach(\r\n\t// \t// \t(teacher)=>{\r\n\t// \t// \t  acc = acc + week.allClasses[i].teachers[teacher].remPeriods;\r\n\t// \t// \t}\r\n\t// \t//   );\r\n\t// \tloopOverClass((u, v) => {\r\n\t// \t\tif (week.allClasses[i].l[u][v].currentTeacher === \"\") acc += 1;\r\n\t// \t});\r\n\t// \tweek.HandyAny.beforeAction.push(acc);\r\n\t// }\r\n\t// week.HandyAny.test = () => {\r\n\t// \tif (week.HandyAny.beforeAction.length !== 0) {\r\n\t// \t\tconsole.log(week.HandyAny.beforeAction);\r\n\t// \t} else {\r\n\t// \t\tconsole.log(\"nothing\");\r\n\t// \t}\r\n\t// \tweek.HandyAny.beforeAction = [];\r\n\t// \tfor (let i = 0; i < week.allClasses.length; i++) {\r\n\t// \t\tlet acc = 0;\r\n\t// \t\t// Object.keys(week.allClasses[i].teachers).forEach(\r\n\t// \t\t// \t(teacher)=>{\r\n\t// \t\t// \t  acc = acc + week.allClasses[i].teachers[teacher].remPeriods;\r\n\t// \t\t// \t}\r\n\t// \t\t//   );\r\n\t// \t\tloopOverClass((u, v) => {\r\n\t// \t\t\tif (week.allClasses[i].l[u][v].currentTeacher === \"\") acc += 1;\r\n\t// \t\t});\r\n\t// \t\tweek.HandyAny.beforeAction.push(acc);\r\n\t// \t}\r\n\t// \tconsole.log(\"became\");\r\n\t// \tconsole.log(week.HandyAny.beforeAction);\r\n\t// };\r\n\t//   console.time('delegate')\r\n\tdelegate(teacher, Pos, m, week, justOne);\r\n\t//   console.timeEnd('delegate')\r\n\t// if (week.activateList.length > 0) {\r\n\t// \tconst ms: number[] = [];\r\n\t// \tweek.activateList[week.currentSolutionNumber].forEach((step) => {\r\n\t// \t\tlet in_ms = false;\r\n\t// \t\tfor (let i = 0; i < ms.length; i++) {\r\n\t// \t\t\tif (ms[i] === step.m) {\r\n\t// \t\t\t\tin_ms = true;\r\n\t// \t\t\t\tbreak;\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t\tif (!in_ms) {\r\n\t// \t\t\tms.push(step.m);\r\n\t// \t\t}\r\n\t// \t});\r\n\t// \tweek.HandyAny.validate = (week: IWEEK_GLOBAL_Object) => {\r\n\t// \t\tms.forEach((m) => {\r\n\t// \t\t\tlet dict: any = {};\r\n\t// \t\t\tconst Class = week.allClasses[m];\r\n\t// \t\t\tloopOverClass((i, j) => {\r\n\t// \t\t\t\tconst t = Class.l[i][j].currentTeacher;\r\n\t// \t\t\t\tif (dict[t] === undefined) {\r\n\t// \t\t\t\t\tdict[t] = 1;\r\n\t// \t\t\t\t} else {\r\n\t// \t\t\t\t\tdict[t] += 1;\r\n\t// \t\t\t\t}\r\n\t// \t\t\t});\r\n\t// \t\t\tObject.keys(dict).forEach((key) => {\r\n\t// \t\t\t\tif (key !== \"\" && dict[key] > Class.teachers[key].Periods) {\r\n\t// \t\t\t\t\tconsole.log(`m : ${m} and the teacher is ${key}`);\r\n\t// \t\t\t\t\t// eslint-disable-next-line no-throw-literal\r\n\t// \t\t\t\t\tthrow \"shit\";\r\n\t// \t\t\t\t}\r\n\t// \t\t\t});\r\n\t// \t\t\tconsole.log(\"allz good validated!!\");\r\n\t// \t\t});\r\n\t// \t\tloopOverClass((i: number, j: number) => {\r\n\t// \t\t\tfor (let mi = 0; mi < week.allClasses.length; mi++) {\r\n\t// \t\t\t\tlet dict: any = {};\r\n\t// \t\t\t\tif (dict[week.allClasses[mi].l[i][j].currentTeacher] !== undefined) {\r\n\t// \t\t\t\t\tconsole.log(\r\n\t// \t\t\t\t\t\t`${\r\n\t// \t\t\t\t\t\t\tweek.allClasses[mi].l[i][j].currentTeacher\r\n\t// \t\t\t\t\t\t} is at two places at once ${mi} and ${\r\n\t// \t\t\t\t\t\t\tdict[week.allClasses[mi].l[i][j].currentTeacher]\r\n\t// \t\t\t\t\t\t}`\r\n\t// \t\t\t\t\t);\r\n\t// \t\t\t\t\tthrow \"damit\";\r\n\t// \t\t\t\t} else {\r\n\t// \t\t\t\t\tdict[week.allClasses[mi].l[i][j].currentTeacher] = mi;\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}\r\n\t// \t\t});\r\n\t// \t};\r\n\t// \tweek.HandyAny.runTests = () => {\r\n\t// \t\tconsole.log(\r\n\t// \t\t\tweek.activateList[week.currentSolutionNumber].map((item) =>\r\n\t// \t\t\t\tJSON.stringify(item)\r\n\t// \t\t\t)\r\n\t// \t\t);\r\n\t// \t\tweek.HandyAny.test();\r\n\t// \t\tweek.HandyAny.validate(week);\r\n\t// \t};\r\n\t// }\r\n\tif (!freeze) {\r\n\t\tDone(m, week, iterativeSolutionPoster)({});\r\n\t}\r\n\r\n\tweek.forceUpdate && week.forceUpdate();\r\n};\r\nexport const Done = (m: number, week: IWEEK_GLOBAL_Object, iterativeSolutionPoster?: (changes: IActlistObj[]) => void) => {\r\n\treturn (e: any) => {\r\n\t\tconst sol = week.activateList[week.currentSolutionNumber];\r\n\t\tif (sol === undefined) {\r\n\t\t\tweek.Swaping = false;\r\n\t\t\tweek.activateList = [];\r\n\t\t\tweek.currentSolutionNumber = 0;\r\n\t\t\tweek.forceUpdate && week.forceUpdate();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\titerativeSolutionPoster && iterativeSolutionPoster(sol)\r\n\t\tfor (let i = 0; i < sol.length; i++) {\r\n\t\t\tputHimAt(week, sol[i].m, sol[i].teacher, sol[i].Pos, \"remove\");\r\n\t\t}\r\n\t\tfor (let i = 0; i < sol.length; i++) {\r\n\t\t\tputHimAt(week, sol[i].m, sol[i].teacher, sol[i].Pos, \"put\");\r\n\t\t}\r\n\r\n\t\tweek.Swaping = false;\r\n\t\tweek.activateList = [];\r\n\t\tweek.currentSolutionNumber = 0;\r\n\t\tweek.forceUpdate && week.forceUpdate();\r\n\t};\r\n};\r\n\r\n/*\r\n<sc<script></script><script>alert('hi');</sc<script></script><script>\r\n<<ss >script>alert('hi');<<ss >/script>\r\n*/\r\n","/* eslint-disable no-throw-literal */\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\n//import { IBasicTableProps } from \"../Components/BasicTable\";\r\nimport { IActlistObj, IClass, IWEEK_GLOBAL_Object } from \"../Interfaces/Interfaces\";\r\nimport { PosType, TeacherType_nullValue } from \"../types\";\r\nimport { someHowPutHimAt } from \"./CoreAlgo\";\r\nimport { contains, loopOverClass, util, withoutPos } from \"./util\";\r\nexport function fill(week: IWEEK_GLOBAL_Object) {\r\n\tconst availables = week.availables;\r\n\tconst allClasses: IClass[] = week.allClasses;\r\n\tallClasses.forEach((Class, m) => {\r\n\t\tloopOverClass((x, y) => {\r\n\t\t\t// scanning the teachers in the class\r\n\t\t\tObject.keys(Class.teachers).forEach((tID) => {\r\n\t\t\t\tconst tData = Class.teachers[tID];\r\n\t\t\t\tlet [periods, PosList] = [tData.remPeriods, tData.emptyAvailables];\r\n\t\t\t\tif (contains(availables[tID], [x, y]) && periods > 0) {\r\n\t\t\t\t\tClass.l[x][y].Options.push(tID);\r\n\t\t\t\t\tPosList.push([x, y]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tCementNoOtherOptionButToPutHere(allClasses, m, week);\r\n\t});\r\n}\r\n// const noOtherOptionButToPutHere = (m: number, week: IWEEK_GLOBAL_Object, changeCellPost: (change: IActlistObj) => void) => {\r\n// \tconst Class = week.allClasses[m];\r\n// \tObject.keys(Class.teachers).forEach((teacher) => {\r\n// \t\tconst t = Class.teachers[teacher]\r\n// \t\tif (t !== undefined &&\r\n// \t\t\tt.remPeriods === t.emptyAvailables.length) {\r\n// \t\t\tt.emptyAvailables.forEach((Pos: PosType) => {\r\n// \t\t\t\tif (1 === util.situationInt(util.situation(teacher, Pos, m, week))) {\r\n// \t\t\t\t\tchangeCellPost({ teacher, m, Pos })\r\n// \t\t\t\t\tputHimAt(week, m, teacher, Pos, \"put\");\r\n// \t\t\t\t}\r\n// \t\t\t});\r\n// \t\t}\r\n// \t});\r\n// };\r\n// const autoFill = function (\r\n// \tm: number,\r\n// \tweek: IWEEK_GLOBAL_Object,\r\n// \tchangeCellPost: (change: IActlistObj) => void\r\n// ) {\r\n// \tlet xxx = 0;\r\n// \tconst Class = week.allClasses[m]\r\n// \tfor (let x = 0; x < Class.l.length; x++) {\r\n// \t\tfor (let y = 0; y < Class.l[x].length; y++) {\r\n// \t\t\tconst RealOptions = actualOptions([x, y], m, week)\r\n// \t\t\tif (RealOptions.length === 1 && Class.l[x][y].currentTeacher === '') {\r\n// \t\t\t\t//do the change\r\n// \t\t\t\tchangeCellPost({ teacher: RealOptions[0], m, Pos: [x, y] })\r\n// \t\t\t\tputHimAt(week, m, RealOptions[0], [x, y], \"put\")\r\n\r\n// \t\t\t\t//go back to the start to see if your changes affected what you have already checked\r\n// \t\t\t\tif (xxx < 100) {\r\n// \t\t\t\t\tx = 0; y = 0;\r\n// \t\t\t\t\txxx++;\r\n// \t\t\t\t}\r\n// \t\t\t\telse {\r\n// \t\t\t\t\talert(`OK here is the deal infinite loop \\n Again `);\r\n// \t\t\t\t}\r\n// \t\t\t}\r\n// \t\t}\r\n// \t}\r\n// }\r\n\r\nexport function randomFiller(week: IWEEK_GLOBAL_Object, changeCellPost?: (change: IActlistObj) => void) {\r\n\tconst allClasses = week.allClasses;\r\n\tfor (let m = allClasses.length - 1; m >= 0; m--) {\r\n\t\tconst Class = allClasses[m];\r\n\t\tloopOverClass((i: number, j: number) => {\r\n\t\t\tif (\r\n\t\t\t\tClass.l[i][j].currentTeacher === TeacherType_nullValue &&\r\n\t\t\t\tClass.l[i][j].Options.length !== 0 &&\r\n\t\t\t\t!Class.l[i][j].isCemented\r\n\t\t\t) {\r\n\t\t\t\tconst aOptions: string[] = actualOptions([i, j], m, week);\r\n\t\t\t\tif (aOptions.length > 0) {\r\n\t\t\t\t\tconst teacher =\r\n\t\t\t\t\t\taOptions[Math.floor(Math.random() * aOptions.length)];\r\n\t\t\t\t\tchangeCellPost && changeCellPost({ Pos: [i, j], teacher, m })\r\n\t\t\t\t\tputHimAt(week, m, teacher, [i, j], \"put\");\r\n\t\t\t\t\t// noOtherOptionButToPutHere(m, week, changeCellPost)\r\n\t\t\t\t\t// autoFill(m, week, changeCellPost)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nexport function useForceUpdate() {\r\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\tconst [value, setValue] = useState(0); // integer state\r\n\treturn () => setValue((value) => value + 1); // update the state to force render\r\n}\r\nexport function actualOptions(\r\n\tPos: PosType,\r\n\tm: number,\r\n\tweek: IWEEK_GLOBAL_Object,\r\n\tcommand: \"unfiltered\" | \"filtered\" = \"unfiltered\"\r\n) {\r\n\tconst [X, Y] = Pos;\r\n\tconst options = week.allClasses[m].l[X][Y].Options;\r\n\tconst res = options.filter((teacher) => {\r\n\t\treturn (\r\n\t\t\tweek.teacherSchedule[teacher][X][Y] === -1 &&\r\n\t\t\tweek.allClasses[m].teachers[teacher].remPeriods > 0\r\n\t\t);\r\n\t});\r\n\tif (command === \"filtered\" && res.length === 0) {\r\n\t\treturn options;\r\n\t}\r\n\treturn res;\r\n}\r\nexport const teacherHasNoMoreemptyAvailables = (\r\n\tteacher: string,\r\n\tteachersList: any\r\n): boolean => {\r\n\tif (teachersList[teacher] === undefined)\r\n\t\tconsole.log(`teachersList[${teacher}] = undefined`, teachersList);\r\n\treturn teachersList[teacher].remPeriods < 1;\r\n};\r\nexport const putHimAt = function (\r\n\tweek: IWEEK_GLOBAL_Object,\r\n\tm: number,\r\n\tteacher: string,\r\n\tPos: PosType,\r\n\top: \"put\" | \"remove\"\r\n) {\r\n\tconst doit: boolean = op === \"put\";\r\n\tconst allClasses = week.allClasses;\r\n\tconst [X, Y] = Pos;\r\n\tconst teachers = allClasses[m].teachers;\r\n\tif (doit) {\r\n\t\tif (\r\n\t\t\t!teacherHasNoMoreemptyAvailables(teacher, teachers) &&\r\n\t\t\tallClasses[m].l[X][Y].currentTeacher === TeacherType_nullValue &&\r\n\t\t\tweek.teacherSchedule[teacher][X][Y] === -1\r\n\t\t) {\r\n\t\t\tallClasses[m].l[X][Y].currentTeacher = teacher;\r\n\t\t\tteachers[teacher].remPeriods--;\r\n\t\t\tteachers[teacher].periodsHere.push(Pos);\r\n\t\t\tObject.keys(teachers).forEach((t) => {\r\n\t\t\t\tconst tData = teachers[t];\r\n\t\t\t\ttData.emptyAvailables = withoutPos(tData.emptyAvailables, Pos);\r\n\t\t\t});\r\n\t\t\tweek.teacherSchedule[teacher][X][Y] = m;\r\n\t\t\tif (week.refreshTable !== undefined) {\r\n\t\t\t\tweek.refreshTable[m][X][Y]();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.warn(\r\n\t\t\t\t`Illegal put ${teacher} in ${week.allClasses[m].Name} in [${Pos[0]},${Pos[1]}]`\r\n\t\t\t);\r\n\t\t}\r\n\t} else {\r\n\t\tif (allClasses[m].l[X][Y].currentTeacher !== TeacherType_nullValue) {\r\n\t\t\tconst theTeacherBeingRemoved = allClasses[m].l[X][Y].currentTeacher;\r\n\t\t\tallClasses[m].l[X][Y].currentTeacher = TeacherType_nullValue;\r\n\t\t\tteachers[theTeacherBeingRemoved].remPeriods++;\r\n\t\t\tteachers[theTeacherBeingRemoved].periodsHere = withoutPos(\r\n\t\t\t\tteachers[theTeacherBeingRemoved].periodsHere,\r\n\t\t\t\tPos\r\n\t\t\t);\r\n\t\t\t// allClasses[m].l[X][Y].Options = removed(allClasses[m].l[X][Y].Options,teacher);\r\n\t\t\tObject.keys(teachers).forEach((t) => {\r\n\t\t\t\tconst teacherData = teachers[t];\r\n\t\t\t\tif (contains(week.availables[t], Pos)) {\r\n\t\t\t\t\tteacherData.emptyAvailables.push(Pos);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tweek.teacherSchedule[theTeacherBeingRemoved][X][Y] = -1;\r\n\t\t\tif (week.refreshTable !== undefined) {\r\n\t\t\t\tweek.refreshTable[m][X][Y]();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\nexport const CementNoOtherOptionButToPutHere = (\r\n\tSchool: IClass[],\r\n\tm: number,\r\n\tweek: IWEEK_GLOBAL_Object\r\n) => {\r\n\tconst Class = School[m];\r\n\tObject.keys(Class.teachers).forEach((t) => {\r\n\t\tconst teacherData = Class.teachers[t];\r\n\t\tlet [periods, PosList] = [\r\n\t\t\tteacherData.remPeriods,\r\n\t\t\tteacherData.emptyAvailables,\r\n\t\t];\r\n\t\tif (periods === PosList.length) {\r\n\t\t\tPosList.forEach((Pos) => {\r\n\t\t\t\tputHimAt(week, m, t, Pos, \"put\");\r\n\t\t\t\tClass.l[Pos[0]][Pos[1]].isCemented = true;\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n};\r\nexport const fastForward = (week: IWEEK_GLOBAL_Object, iterativeSolutionPoster?: (changes: IActlistObj[]) => void) => {\r\n\tconsole.time(\"fast\");\r\n\tweek.allClasses.forEach((Class: IClass, m: number) => {\r\n\t\tconst empties: PosType[] = [];\r\n\t\tloopOverClass((u: number, v: number) => {\r\n\t\t\tif (\r\n\t\t\t\tClass.l[u][v].currentTeacher !== TeacherType_nullValue ||\r\n\t\t\t\tClass.l[u][v].isCemented\r\n\t\t\t)\r\n\t\t\t\treturn;\r\n\t\t\telse empties.push([u, v]);\r\n\t\t});\r\n\t\tempties.forEach((Pos: PosType) => {\r\n\t\t\tconst [u, v] = Pos;\r\n\t\t\tconst teachers = Class.l[u][v].Options.sort(\r\n\t\t\t\t(a, b) => 0.5 - Math.random()\r\n\t\t\t);\r\n\t\t\tlet ind = 0;\r\n\t\t\twhile (\r\n\t\t\t\tClass.l[u][v].currentTeacher === TeacherType_nullValue &&\r\n\t\t\t\tind < teachers.length\r\n\t\t\t) {\r\n\t\t\t\tconst teacher = Class.l[u][v].Options[ind];\r\n\t\t\t\tsomeHowPutHimAt(m, teacher, [u, v], week, false, iterativeSolutionPoster, true);\r\n\t\t\t\tind++;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\tconsole.timeEnd(\"fast\");\r\n};\r\n\r\n\r\n//alert(`here in [${x},${y}] calling with ${School[i].l[x][y].Options[0]}  who ${(teacherHasNoMoreemptyAvailables(School[i].l[x][y].Options[0] ,School[i].teachers)?'has NOOOOO more':'has more')}`);","declare const self: Worker;\r\nexport default {} as typeof Worker & { new(): Worker };\r\nimport { IActlistObj } from \"../Interfaces/Interfaces\";\r\nimport { randomFiller, fastForward } from \"../Logic/Logic\";\r\nself.addEventListener('message', (event) => {\r\n\tconst week = ((week: string) => JSON.parse(week))(event.data);\r\n\tconst changeCellPost = (change: IActlistObj) => {\r\n\t\tself.postMessage({ payload: change, type: \"oneChange\" })\r\n\t}\r\n\tconst iterativeSolutionPoster = (changes: IActlistObj[]) => {\r\n\t\tself.postMessage({ payload: changes, type: \"multipleChanges\" })\r\n\t}\r\n\trandomFiller(week, changeCellPost);\r\n\tfastForward(week, iterativeSolutionPoster);\r\n\t// randomFiller(week);\r\n\t// fastForward(week);\r\n\tconsole.log(`posting Done`)\r\n\tself.postMessage({ payload: week, type: \"Done\" })\r\n})"],"sourceRoot":""}